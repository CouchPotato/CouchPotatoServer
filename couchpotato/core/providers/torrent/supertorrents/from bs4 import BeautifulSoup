from bs4 import BeautifulSoup
from couchpotato.core.helpers.encoding import tryUrlencode
from couchpotato.core.helpers.variable import tryInt
from couchpotato.core.logger import CPLog
from couchpotato.core.providers.torrent.base import TorrentProvider
import traceback


log = CPLog(__name__)

class SuperTorrents(TorrentProvider):
  
  urls = {
        'test' : 'http://www.supertorrents.com/',
        'base_url' : 'http://www.supertorrents.com',
        'login' : 'http://www.supertorrents.com/login.php',
        'search' : 'http://www.supertorrents.com/torrents/?l%d=1%s&q=%s&qf=ti',
        'download' : 'http://www.supertorrents.com/download.php'
    }

    cat_ids = [
        ([9], ['DVDR']),
        ([13], ['BluRay','720p,'1080p','DVDRIP']) #'BluRay 720p' & 'BluRay 1080p' ?
        ([8], ['DVDrip,'cam',','ts','r5']),
    ]

    http_time_between_calls = 1 #seconds
    cat_backup_id = None

def _search(self, movie, quality, results):



 def getLoginParams(self):
        return tryUrlencode({
            'username': self.conf('username'),
            'password': self.conf('password'),
            'remember_me': 'on',
            'login': 'Log in!',
        })